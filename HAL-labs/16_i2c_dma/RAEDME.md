1. Используется I2C1 и I2C3. PB8-PA8, PB7-PC9.
2. Алгоритм работы: запускаем ожидание приема в I2C3 в режиме Slave -> запускаем передачу в I2C1 в режиме Master -> вызывается Callback завершения передачи HAL_I2C_MasterTxCpltCallback() в режиме Master, в которой запускаем ожидание приема в I2C1 в режиме Master -> вызывается Callback завершения приема HAL_I2C_SlaveRxCpltCallback() в режиме Slave, в котором запускаем передачу в I2C3 в режиме Slave -> вызывается Callback завершения передачи Slave -> вызывается Callback завершения приема Master.
3. Для работы нужно влючить в NVIC, помимо прерываний потока DMA, прерывания Event и Error в I2C.