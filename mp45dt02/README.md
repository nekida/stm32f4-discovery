# Описание

## Процесс работы
Микрофон MP45DT02 подключен по I2S к контроллеру (I2S2 / SPI2). Через DMA (DMA1 Stream 3) полученные от микрофона данные отправляются в ЦАП CS43L22 так же по I2S (I2S3 / SPI3). В callback функции, вызываемой по окончанию приема модулем I2S2, данные микрофона фильтруются, обрабатываются до псевдо-стерео и отправляются в ЦАП.

## Инициализация ЦАП
Код инициализации немного отличается от кода инициализации в проекте для CS43L22, но большинство регистров конфигурируются так же.

## Фильтры
Для обработки данных от микрофона удалось найти несколько фильтров, предоставляемых в виде библиотечного файла .lib и header файла. Поскольку фильтров два - в репозитории лежит лве папки с именами filter_new и filter_old. Так же в обеих папках лежат файлы filter.c и filter.h, обладающие одинаковым названием, но разным содержимым. В filter. происходит инициализация фильтра, filter.h содержит прототипы для вызова. Какой бы фильтр не был выбран - достаточно подключить к проекту filter.h и вызвать функцию инициализации фильтра. Вызов функции фильтрации происходит в функции audio_filter_out(). 
