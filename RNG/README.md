# Random number generator (RNG) - генератор случайных чисел
## Введение
Процессор RNG - это генератор случайных чисел, основанный на непрерывном аналоговом шуме, который предоставляет 32-битное случайное значение для хоста при чтении.

RNG прошел испытания FIPS PUB 140-2 (10 октября 2001 г.) с коэффициентом успеха 99%.

## Основные характеристики генератора:

• Он предоставляет 32-битные случайные числа, производимые аналоговым генератором

• 40 периодов тактового сигнала RNG_CLK между двумя последовательными случайными числами

• Мониторинг энтропии RNG для выявления ненормального поведения (генерация стабильных значений или устойчивой последовательности значений)

• Может быть отключен, чтобы уменьшить потребление энергии

## Функциональное описание
Блок-схема RNG

![Image alt](https://github.com/nekida/stm32f4-discovery/blob/master/RNG/pic/block_diagram.jpg)

Генератор реализован на аналоговой схеме, генерирующей начальные числа, попадающие в сдвиговой регистр с линейной обратной связью LFSR для получения 32-разрядного случайного числа. 

Аналоговая схема состоит из нескольких кольцевых осцилляторов, выходы которых идут через XOR для генерации начальных чисел. RNG_LFSR тактируется выделенным тактовым сигналом (RNG_CLK) с постоянной частотой, так что качество случайного числа не зависит от частоты HCLK. Содержимое RNG_LFSR передается в регистр данных (RNG_DR), когда в RNG_LFSR введено значительное количество начальных чисел.

Параллельно отслеживаются аналоговое начальное число и выделенные клоки RNG_CLK. Биты состояния (в регистре RNG_SR) указывают, когда на начальном этапе возникает ненормальная последовательность или когда частота тактового сигнала RNG_CLK слишком низкая. Прерывание может быть сгенерировано при обнаружении ошибки.
